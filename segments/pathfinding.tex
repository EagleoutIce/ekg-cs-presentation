\newsavebox\Router \savebox\Router{\scalebox{.12}{\router{}}}
\tikzset{dot/.style={minimum width=8mm,minimum height=3mm,rounded corners=3pt,rectangle}}
% #4 label
\def\PlaceAt#1#2#3#4{%
   \node[outer sep=1pt,dot,#1] (#1) at([shift={(#2*\wd\Germany,#3*\ht\Germany+#3*\dp\Germany)}]germany.south west) {\only<-2|handout:1>{\smash{\raisebox{-4pt}{\clap{\usebox\Router}}}}};
   % #4
   \only<4-|handout:2>{\node[text=white] at (#1) {\tiny\sbfamily#4};}
}
\def\B#1{\only<5-|handout:2>{#1}}
\tikzset{
   X/.style n args=2{edge node={node [#2=-.5mm,sloped] {\tiny#1}}},
   A/.style={X={#1}{above}},
   B/.style={X={#1}{below}}
}

% TODO: frage von wo nach wo kommen wir wie einwerfen
{
% \On<3>{a}{fill=gray}
\newcommand<>\On[2]{\only#3{{%
   \globaldefs=1\relax%
   \tikzset{#1/.style={#2}}
}}}
\tikzset{
   current/.style={fill=black,draw=black,text=white},%
   unqueued/.style={fill=btdl@color@background,draw=gray,text=gray},
   queue/.style={fill=btdl@color@background,draw=black,text=black},
   startend/.style={unqueued,minimum size=5mm},
   visited/.style={fill=gray,draw=white,text=white}
}
\begin{frame}
\begin{tikzpicture}[@O,base/.style={},a/.style={base},b/.style={base},c/.style={base},d/.style={base},e/.style={base},f/.style={base},g/.style={base},h/.style={base},i/.style={base},j/.style={base}]
\begin{onlyenv}<-6|handout:1>
   \only<-5>{
      \node[inner sep=0pt,outer sep=0pt] (germany) at (current page.center) {\usebox\Germany};
      \node[above right,T] at(current page.south west) {\fontsize{3.5pt}{3.5pt}\selectfont
\href{https://commons.wikimedia.org/wiki/File:German_state_government_compositions.svg}{Deutschland basiert auf Grafik von \begin{CJK*}{UTF8}{gbsn}
沁水湾
\end{CJK*},}~~\href{https://creativecommons.org/licenses/by-sa/4.0/deed.en}{\ccbysa}};
   }
   \only<3-|handout:2>{\tikzset{dot/.style={minimum size=3mm,circle,fill=black,}}}
\onslide<2->{
   \PlaceAt{a}{.5}{.5}{e}
   \PlaceAt{b}{.8}{.75}{i}
   \PlaceAt{c}{.55}{.175}{b}
   \PlaceAt{d}{.25}{.15}{a}
   \PlaceAt{e}{.25}{.75}{h}
   \PlaceAt{f}{.7}{.42}{d}
   \PlaceAt{g}{.3}{.3}{c}
   \PlaceAt{h}{.625}{.7}{g}
   \PlaceAt{i}{.3}{.6}{f}
   \PlaceAt{j}{.45}{.8}{j}

   \graph[use existing nodes,edges={-}]{
      a ->[B=\B8] b;
      a ->[A=\B{7.5}] c;
      a ->[bend left=20,B={\B{10}}] d;
      a ->[A={\B{~~~~~~~~~~~7.5}}] e;
      a ->[A={\B3}] f;
      a ->[A={\B{5.5}}] g;
      h ->[B={\B6}] i ->[A=\B5] j ->[B=\B3] h;
      b ->[B={\B8}] f ->[B=\B6] c;
      % d -> e would be 15.5 but we choose a #fastlane
      d ->[bend left,A=\B{4}] e ->[A=\B{3}] j ->[A=\B6] b ->[A=\B2] h;
   };
}
\end{onlyenv}
\begin{onlyenv}<7-|handout:2-3>
   \tikzset{dot/.style={minimum size=3mm,circle,fill=black,text=white,font=\scriptsize\sbfamily}}
   \scope[shift={([xshift=-3cm,yshift=1cm]current page.center)},k/.style={font=\scriptsize,midway}]
   \only<8-|handout:3>{
      \tikzset{
         base/.style={unqueued},
         b/.style={startend},
         j/.style={startend},
      }
   }
   \foreach[count=\i from 11] \n in {e,d,,a,c,h,,i,,,,j,,g}{
      \ifx!\n!\else
         \On<\i-|handout:3>{\n}{queue}
      \fi
   }
   \On<10-12|handout:3>{b}{current}\On<13-|handout:3>{b}{visited}
   \On<13-16|handout:3>{e}{current}\On<17-|handout:3>{e}{visited}
   \On<17-18|handout:3>{d}{current}\On<19-|handout:3>{d}{visited}
   \On<19|handout:3>{a}{current}\On<20-|handout:3>{a}{visited}
   \On<20|handout:3>{c}{current}\On<21-|handout:3>{c}{visited}
   \On<21-22|handout:3>{h}{current}\On<23-|handout:3>{h}{visited}
   \On<23-24|handout:3>{i}{current}\On<25-|handout:3>{i}{visited}
   \On<25-|handout:3>{j}{current}

   % queue up there
   \scope[every node/.append style={outer xsep=4pt}]
   \only<9-|handout:3>{
      \node[dot,b,xshift=-3.65cm,below=1.5mm] (q1) at (current page.north) {b};
   }
   \only<11-|handout:3>{
      \node[dot,e,right] (q2) at (q1.east) {e};
   }
   \only<12-|handout:3>{
      \node[dot,d,right] (q3) at (q2.east) {d};
   }
   \only<14-|handout:3>{
      \node[dot,a,right] (q4) at (q3.east) {a};
   }
   \only<15-|handout:3>{
      \node[dot,c,right] (q5) at (q4.east) {c};
   }
   \only<16-|handout:3>{
      \node[dot,h,right] (q6) at (q5.east) {h};
   }
   \only<18-|handout:3>{
      \node[dot,i,right] (q7) at (q6.east) {i};
   }
   \only<22-|handout:3>{
      \node[dot,j,right] (q8) at (q7.east) {j};
   }
   \only<24-|handout:3>{
      \node[dot,g,right] (q9) at (q8.east) {g};
   }
   \only<9-|handout:3>{
      \draw[lightgray] ([yshift=-1.25cm]current page.north west) node[above right] {\sbfamily Warteschlange} -- ([yshift=-1.25cm]current page.north east);
   }
   \endscope

   \node[dot,a] (a) at (0,0) {a};
   \node[dot,b] (b) at (0,-2) {b};
   \node[dot,c] (c) at (2,1) {c};
   \node[dot,e] (e) at (2,-1) {e};
   \node[dot,d] (d) at (2,-3) {d};
   \node[dot,h] (h) at (4,1) {h};
   \node[dot,g] (g) at (6,-2) {g};
   \node[dot,i] (i) at (4,-3) {i};
   \node[dot,j] (j) at (4,-1) {j};
   \node[dot,f] (f) at (6,0) {f};
   \only<8-|handout:3>{
      \node[left,gray] at(b.west) {\faCaretRight};
      \node[left,gray] at(j.west) {\faCaretRight};
   }
   \scope[every path/.append style={line cap=round,gray}]
   \draw (a) -- (e) node[above,sloped,k] {10};
   \draw (a) -- (h) node[above,sloped,k,pos=.75] {4};
   \draw (b) -- (e) node[above,sloped,k] {7.5};
   \draw (b) -- (d) node[below,k] {6};

   \draw (d) -- (e) node[left,k] {3};
   \draw (d) -- (i) node[above,k] {8};

   \draw (e) -- (c) node[right,k] {5.5};
   \draw (e) -- (h) node[below,sloped,k] {7.5};
   \draw (e) -- (i) node[above,sloped,k] {8};

   \draw (f) -- (j) node[above,sloped,k] {5};
   \draw (f) -- (g) node[right,k] {6};

   \draw (g) -- (i) node[below,sloped,k] {2};
   \draw (g) -- (j) node[above,sloped,k] {3};

   \draw (h) -- (j) node[right,k] {3};

   \draw (i) -- (j) node[right,k] {6};
   \endscope
   \endscope
   \only<9-|handout:3>{
      \node[above=8mm] (@title) at(current page.south) {\usebeamerfont{subtitle}Breitensuche};
      \node[below=-2mm] at(@title.south) {\color{gray}\textbf{b}readth-\textbf{f}irst \textbf{s}earch};
   }
\end{onlyenv}
\end{tikzpicture}
\end{frame}
% Optionen:
%    - Alle Routen | Aber: Schleifen
%    - alle Routen ohne schleifen | immer noch sehr viel
%    - abbrechen sobald wir wissen, dass es keine kürzere geben kann

\begin{frame}{}
\begin{tikzpicture}[@O,base/.style={},a/.style={base},b/.style={base},c/.style={base},d/.style={base},e/.style={base},f/.style={base},g/.style={base},h/.style={base},i/.style={base},j/.style={base},dot/.style={minimum size=3mm,circle,fill=black,text=white,font=\scriptsize\sbfamily}]
\scope[shift={([xshift=-3cm,yshift=1cm]current page.center)},k/.style={font=\scriptsize,midway}]
\node[dot,a] (a) at (0,0) {a};
\node[dot,b] (b) at (0,-2) {b};
\node[dot,c] (c) at (2,1) {c};
\node[dot,e] (e) at (2,-1) {e};
\node[dot,d] (d) at (2,-3) {d};
\node[dot,h] (h) at (4,1) {h};
\node[dot,g] (g) at (6,-2) {g};
\node[dot,i] (i) at (4,-3) {i};
\node[dot,j] (j) at (4,-1) {j};
\node[dot,f] (f) at (6,0) {f};
\draw (a) -- (e) node[above,sloped,k] {10};
\draw (a) -- (h) node[above,sloped,k,pos=.75] {4};
\draw (b) -- (e) node[above,sloped,k] {7.5};
\draw (b) -- (d) node[below,k] {6};

\draw (d) -- (e) node[left,k] {3};
\draw (d) -- (i) node[above,k] {8};

\draw (e) -- (c) node[right,k] {5.5};
\draw (e) -- (h) node[below,sloped,k] {7.5};
\draw (e) -- (i) node[above,sloped,k] {8};

\draw (f) -- (j) node[above,sloped,k] {5};
\draw (f) -- (g) node[right,k] {6};

\draw (g) -- (i) node[below,sloped,k] {2};
\draw (g) -- (j) node[above,sloped,k] {3};

\draw (h) -- (j) node[right,k] {3};

\draw (i) -- (j) node[right,k] {6};
\endscope
\end{tikzpicture}
[TODO: Dijkstra]
\end{frame}

}