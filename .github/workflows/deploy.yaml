name: Deploy Presentation

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
   build:
      runs-on: ubuntu-latest
      env:
         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      steps:
         - uses: actions/checkout@v3
         - name: Setup node
           uses: actions/setup-node@v3
           with:
              node-version: 20.x
         - run: npm ci
         - name: Deploy with gh-pages
           run: |
               git remote set-url origin https://git:${GITHUB_TOKEN}@github.com/${GITHUB_REPOSITORY}.git
               npm run deploy -- -u "github-actions-bot <support+actions@github.com>"
           env:
               GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}